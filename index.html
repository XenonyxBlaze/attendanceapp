<!DOCTYPE html>
<html lang="EN">
  <head>
    <title>VITB Hostel Attendance</title>
    <link rel="stylesheet" href="css/root.css" />
    <link rel="stylesheet" href="css/index.css" />
    <!-- NAVBAR RELATED CSS -->
    <link rel="stylesheet" href="css/navbar.css" />
    <link rel="stylesheet" href="css/header.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  </head>
  <body>
    <!-- NAVBAR HTML: (Expandable by adding more anchor tags) -->
    <label>
      <input type="checkbox" />
      <span class="menu"> <span class="hamburger"></span> </span>
      <ul>
        <li id="h1"><a href="index.html">Home</a></li>
        <li><a href="report.php">View Attendance Report</a></li>
        <li><a href="updateHostelers.html">Update hostel masterdata</a></li>
        <li><a href="uploadLeave.html">Update hosteler leave data</a></li>
      </ul>
    </label>
    <div class="overlay"></div>
    <!-- NAVBAR HAMBURGER ENDS HERE. -->
    <header>
      <div>
        <img src="./img/logoblack.png" alt="VITLogo" />
      </div>
      <div id="center">
        <p>Hostel attendance management system</p>
        <p>[HAMS v0.3]</p>
      </div>
      <div></div>
    </header>
    <div id="main-content">
      <form
        action="turnstileUpload.php"
        method="post"
        enctype="multipart/form-data"
      >
        <p>
          Upload the Turnstile data by clicking the button below, or drag and
          drop the file into the designated area. <br />Please ensure that the
          file you are uploading follows the required format and contains the
          necessary data fields for the Turnstile data processing to be
          successful.
        </p>
        <div class="file-drop-area">
          <span class="fake-btn">Upload files</span>
          <span class="file-msg">+</span>
          <input
            type="file"
            name="tFiles[]"
            id="tFiles"
            multiple="multiple"
            accept=".xls, .xlsx"
            class="file-input"
            required
          />
        </div>
        <input type="submit" value="Fetch Data!" name="submit" id="submit" />
      </form>
    </div>
    <script>
      var $fileInput = $(".file-input");
      var $droparea = $(".file-drop-area");

      // highlight drag area
      $fileInput.on("dragenter focus click", function () {
        $droparea.addClass("is-active");
      });

      // back to normal state
      $fileInput.on("dragleave blur drop", function () {
        $droparea.removeClass("is-active");
      });

      // change inner text
      $fileInput.on("change", function () {
        var filesCount = $(this)[0].files.length;
        var $textContainer = $(this).prev();

        if (filesCount === 1) {
          // if single file is selected, show file name
          var fileName = $(this).val().split("\\").pop();
          $textContainer.text(fileName);
        } else {
          // otherwise show number of files
          $textContainer.text(filesCount + " files selected");
        }
      });
    </script>
  </body>
</html>
